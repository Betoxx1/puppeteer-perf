<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />

        <title>Page Load Report</title>

        <link
            rel="stylesheet"
            href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        />

        <style>
            /* body {
                padding-top: 2rem;
            } */
        </style>
    </head>

    <body>
        <div class="container mt-4">
            <h1 class="mb-4">Page Load Performance: '{{ testName }}'</h1>
            <ul class="list-inline">
                <li class="list-inline-item">
                    <span class="font-weight-bold">URL: </span>{{ url }}
                </li>
                <li class="list-inline-item">
                    <span class="font-weight-bold">Current Report Date: </span
                    >{{dateFormat currentRunTime }}
                </li>
                <li class="list-inline-item">
                    <span class="font-weight-bold">Previous Report Date: </span
                    >{{dateFormat previousRunTime }}
                </li>
            </ul>
            <ul class="nav nav-pills nav-fill text-uppercase" id="navTabs" role="tablist">
                <li class="nav-item">
                    <a
                        class="nav-link active"
                        id="overview-tab"
                        data-toggle="tab"
                        href="#overview"
                        >Overview</a
                    >
                </li>
                {{#tracingDiff.typeOverview}}
                <li class="nav-item">
                    <a
                        class="nav-link"
                        id="{{ type }}-tab"
                        data-toggle="tab"
                        href="#{{ type }}"
                        >{{friendlyName type }}</a
                    >
                </li>
                {{/tracingDiff.typeOverview}}
            </ul>

            <div class="tab-content" id="pageLoadTabContent">
                <div
                    class="tab-pane fade show active"
                    id="overview"
                    role="tabpanel"
                    aria-labelledby="overview-tab"
                >
                    <div class="container mt-4 mb-4">
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h3>Timings</h3>
                                        <div class="table-responsive">
                                            <table class="table table-striped table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>Metric</th>
                                                        <th>Previous</th>
                                                        <th>Current</th>
                                                        <th>% Change</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {{#timingDiff}}
                                                    <tr
                                                        class="{{tableRowClass changePercent}}"
                                                    >
                                                        <td>{{friendlyName metric}}</td>
                                                        <td>{{ previous }}</td>
                                                        <td>{{ current }}</td>
                                                        <td>
                                                            {{{toPercentBadge changePercent
                                                            }}}
                                                        </td>
                                                    </tr>
                                                    {{/timingDiff}}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h3>Request Summary</h3>
                                        <div class="table-responsive">
                                            <table
                                                class="table table-striped table-sm table-hover"
                                            >
                                                <thead>
                                                    <tr>
                                                        <th>Metric</th>
                                                        <th>Previous</th>
                                                        <th>Current</th>
                                                        <th>% Change</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {{#tracingDiff.overview}}
                                                    <tr
                                                        class="{{tableRowClass changePercent}}"
                                                    >
                                                        <td>{{friendlyName metric}}</td>
                                                        <td>{{ previous }}</td>
                                                        <td>{{ current }}</td>
                                                        <td>
                                                            {{{toPercentBadge changePercent
                                                            }}}
                                                        </td>
                                                    </tr>
                                                    {{/tracingDiff.overview}}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                {{#tracingDiff.typeOverview}}
                <div
                    class="tab-pane fade"
                    id="{{ type }}"
                    role="tabpanel"
                    aria-labelledby="{{ type }}-tab"
                >
                    <div class="container mt-4 mb-4">
                        <div class="row mt-3">
                            <div class="col-sm-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h3 class="card-title">
                                            {{friendlyName type}} Requests
                                        </h3>
                                        <div class="table-responsive">
                                            <table
                                                class="table table-striped table-sm table-hover"
                                            >
                                                <thead>
                                                    <tr>
                                                        <th>Metric</th>
                                                        <th>Previous</th>
                                                        <th>Current</th>
                                                        <th>% Change</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {{#summary}}
                                                    <tr
                                                        class="{{tableRowClass changePercent}}"
                                                    >
                                                        <td>{{friendlyName metric}}</td>
                                                        <td>{{ previous }}</td>
                                                        <td>{{ current }}</td>
                                                        <td>
                                                            {{{toPercentBadge changePercent
                                                            }}}
                                                        </td>
                                                    </tr>
                                                    {{/summary}}
                                                </tbody>
                                            </table>
                                        </div>
                                        {{#breakdown}}
                                        <h5>{{friendlyName metric}}</h5>
                                        <div class="row">
                                            <div class="col-sm-6">
                                                <span class="font-weight-bold"
                                                    >Previous</span
                                                >
                                                <div class="table-responsive">
                                                    <table
                                                        class="table table-striped table-sm table-hover"
                                                    >
                                                        <thead>
                                                            <tr>
                                                                <th>ID</th>
                                                                <th>URL</th>
                                                                <th>Value</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            {{#previous}}
                                                            <tr
                                                                class="{{tableRowClass changePercent}}"
                                                            >
                                                                <td>{{@index}}</td>
                                                                <td>
                                                                    {{urlPath url }}
                                                                </td>
                                                                <td>
                                                                    {{ value }} {{ unit }}
                                                                </td>
                                                            </tr>
                                                            {{/previous}}
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <span class="font-weight-bold"
                                                    >Current</span
                                                >
                                                <div class="table-responsive">
                                                    <table
                                                        class="table table-striped table-sm table-hover"
                                                    >
                                                        <thead>
                                                            <tr>
                                                                <th>ID</th>
                                                                <th>URL</th>
                                                                <th>Value</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            {{#current}}
                                                            <tr
                                                                class="{{tableRowClass changePercent}}"
                                                            >
                                                                <td>{{@index}}</td>
                                                                <td>
                                                                    {{urlPath url }}
                                                                </td>
                                                                <td>
                                                                    {{ value }} {{ unit }}
                                                                </td>
                                                            </tr>
                                                            {{/current}}
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        {{/breakdown}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {{/tracingDiff.typeOverview}}
            </div>
        </div>
        <script
            src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"
        ></script>
    </body>
</html>
